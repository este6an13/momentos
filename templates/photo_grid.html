{% if photos_by_year %}
<div class="gallery-content">
    <div class="timeline-sections">
        {% for year, year_photos in photos_by_year.items() %}
        <div class="year-section" id="year-{{ year }}" style="margin-top: 2rem; scroll-margin-top: 80px;">
            <h2 class="year-header"
                style="font-family: var(--font-serif); font-size: 1.5rem; color: var(--text-secondary); margin-bottom: 0.5rem; opacity: 0.8;">
                {{ year }}</h2>
            <div class="masonry-grid">
                {% for photo in year_photos %}
                <div class="photo-card" hx-get="/photo/{{ photo.id }}" hx-target="#modal-content" hx-swap="innerHTML"
                    hx-on::after-request="openModal()" role="button" tabindex="0"
                    aria-label="{{ photo.title or photo.filename }}">
                    <div class="photo-thumb">
                        <img src="{{ get_image_url(photo.filename) }}" alt="{{ photo.title or photo.filename }}"
                            loading="lazy">
                        <div class="photo-overlay">
                            <span class="overlay-title">{{ photo.title or photo.filename }}</span>
                            {% if photo.location %}
                            <span class="overlay-location">{{ photo.location }}</span>
                            {% endif %}
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- Time Scrubber -->
    <div class="time-scrubber"
        style="position: fixed; right: 1rem; top: 50%; transform: translateY(-50%); display: flex; flex-direction: column; gap: 8px; z-index: 100; background: rgba(0,0,0,0.4); padding: 10px 5px; border-radius: 20px; backdrop-filter: blur(8px);">
        {% for year in photos_by_year.keys() %}
        <a href="#year-{{ year }}" class="scrubber-link"
            style="color: var(--text-muted); font-size: 0.75rem; writing-mode: vertical-rl; text-orientation: mixed; transition: color 0.2s; text-decoration: none; display: block; text-align: center; font-weight: 500;">
            {{ year }}
        </a>
        {% endfor %}
    </div>
</div>

<style>
    .scrubber-link:hover {
        color: var(--text-primary) !important;
        font-weight: 600;
    }
</style>
{% else %}
<div class="empty-state">
    <p class="empty-icon">â¬œ</p>
    <p class="empty-title">No photos yet</p>
    <p class="empty-hint">Drop your images into <code>static/images/</code> and refresh.</p>
</div>
{% endif %}